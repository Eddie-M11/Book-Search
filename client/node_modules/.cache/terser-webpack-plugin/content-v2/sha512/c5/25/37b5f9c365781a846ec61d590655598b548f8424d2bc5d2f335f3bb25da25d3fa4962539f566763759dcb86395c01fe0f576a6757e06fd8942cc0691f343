{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,n){},123:function(e,t,n){\"use strict\";n.r(t);var a,r,o,c,s,i=n(0),l=n.n(i),d=n(40),u=n.n(d),j=(n(114),n(115),n(38)),b=n(65),h=n(9),O=n(106),m=n(142),p=n(144),g=n(139),x=n(103),v=n(23),k=n(12),f=n(18),w=n(11),S=n(132),y=n(133),I=n(141),C=n(101),B=n(134),F=n(135),T=n(148),L=n(21),_=n(22),N=n(91),$=n.n(N),q=new(function(){function e(){Object(L.a)(this,e)}return Object(_.a)(e,[{key:\"getProfile\",value:function(){return $()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return $()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),E=function(e){e.length?localStorage.setItem(\"saved_books\",JSON.stringify(e)):localStorage.removeItem(\"saved_books\")},P=function(e){var t=localStorage.getItem(\"saved_books\")?JSON.parse(localStorage.getItem(\"saved_books\")):null;if(!t)return!1;var n=null===t||void 0===t?void 0:t.filter((function(t){return t!==e}));return localStorage.setItem(\"saved_books\",JSON.stringify(n)),!0},D=n(131),G=n(56),U=n(143),V=Object(U.a)(a||(a=Object(G.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"]))),Y=Object(U.a)(r||(r=Object(G.a)([\"\\n  mutation addUser($username: String!, $email: String!, $password: String!) {\\n    addUser(username: $username, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n        email\\n      }\\n    }\\n  }\\n\"]))),J=Object(U.a)(o||(o=Object(G.a)([\"\\n  mutation saveBook($input: SaveBookInput) {\\n    saveBook(input: $input) {\\n      username\\n      _id\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        title\\n        image\\n        link\\n        description\\n      }\\n    }\\n  }\\n\"]))),K=Object(U.a)(c||(c=Object(G.a)([\"\\n  mutation removeBook($bookId: String!) {\\n    removeBook(bookId: $bookId) {\\n      _id\\n      username\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        title\\n        image\\n        link\\n        description\\n      }\\n    }\\n  }\\n\"]))),z=n(3),A=function(){var e=Object(i.useState)([]),t=Object(w.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(\"\"),o=Object(w.a)(r,2),c=o[0],s=o[1],l=Object(i.useState)(localStorage.getItem(\"saved_books\")?JSON.parse(localStorage.getItem(\"saved_books\")):[]),d=Object(w.a)(l,2),u=d[0],j=d[1],b=Object(D.a)(J),h=Object(w.a)(b,2),O=h[0];h[1].error;Object(i.useEffect)((function(){return function(){return E(u)}}));var m=function(){var e=Object(f.a)(Object(k.a)().mark((function e(t){var n,r,o,i;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return e.prev=3,e.next=6,fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(c));case 6:if((n=e.sent).ok){e.next=9;break}throw new Error(\"something went wrong!\");case 9:return e.next=11,n.json();case 11:r=e.sent,o=r.items,i=o.map((function(e){var t;return{bookId:e.id,authors:e.volumeInfo.authors||[\"No author to display\"],title:e.volumeInfo.title,description:e.volumeInfo.description,image:(null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail)||\"\"}})),a(i),s(\"\"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0);case 21:case\"end\":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(f.a)(Object(k.a)().mark((function e(t){var a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.find((function(e){return e.bookId===t})),q.loggedIn()?q.getToken():null){e.next=4;break}return e.abrupt(\"return\",!1);case 4:return e.prev=4,e.next=7,O({variables:{input:a}});case 7:if(e.sent){e.next=10;break}throw new Error(\"something went wrong!\");case 10:j([].concat(Object(v.a)(u),[a.bookId])),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:case\"end\":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(S.a,{fluid:!0,className:\"text-light bg-dark\",children:Object(z.jsxs)(y.a,{children:[Object(z.jsx)(\"h1\",{children:\"Search for Books!\"}),Object(z.jsx)(I.a,{onSubmit:m,children:Object(z.jsxs)(I.a.Row,{children:[Object(z.jsx)(C.a,{xs:12,md:8,children:Object(z.jsx)(I.a.Control,{name:\"searchInput\",value:c,onChange:function(e){return s(e.target.value)},type:\"text\",size:\"lg\",placeholder:\"Search for a book\"})}),Object(z.jsx)(C.a,{xs:12,md:4,children:Object(z.jsx)(B.a,{type:\"submit\",variant:\"success\",size:\"lg\",children:\"Submit Search\"})})]})})]})}),Object(z.jsxs)(y.a,{children:[Object(z.jsx)(\"h2\",{children:n.length?\"Viewing \".concat(n.length,\" results:\"):\"Search for a book to begin\"}),Object(z.jsx)(F.a,{children:n.map((function(e){return Object(z.jsxs)(T.a,{border:\"dark\",children:[e.image?Object(z.jsx)(T.a.Img,{src:e.image,alt:\"The cover for \".concat(e.title),variant:\"top\"}):null,Object(z.jsxs)(T.a.Body,{children:[Object(z.jsx)(T.a.Title,{children:e.title}),Object(z.jsxs)(\"p\",{className:\"small\",children:[\"Authors: \",e.authors]}),Object(z.jsx)(T.a.Text,{children:e.description}),q.loggedIn()&&Object(z.jsx)(B.a,{disabled:null===u||void 0===u?void 0:u.some((function(t){return t===e.bookId})),className:\"btn-block btn-info\",onClick:function(){return p(e.bookId)},children:null!==u&&void 0!==u&&u.some((function(t){return t===e.bookId}))?\"This book has already been saved!\":\"Save this Book!\"})]})]},e.bookId)}))})]})]})},M=n(150),H=Object(U.a)(s||(s=Object(G.a)([\"\\n  {\\n    me {\\n      _id\\n      username\\n      email\\n      bookCount\\n      savedBooks {\\n        title\\n        bookId\\n        authors\\n        description\\n        image\\n        link\\n      }\\n    }\\n  }\\n\"]))),R=function(){var e=Object(M.a)(H),t=e.loading,n=e.data,a=(null===n||void 0===n?void 0:n.me)||[],r=Object(D.a)(K),o=Object(w.a)(r,2),c=o[0],s=(o[1].error,function(){var e=Object(f.a)(Object(k.a)().mark((function e(t){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q.loggedIn()?q.getToken():null){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return e.prev=3,e.next=6,c({variables:{bookId:t}});case 6:if(e.sent){e.next=9;break}throw new Error(\"something went wrong!\");case 9:P(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0);case 15:case\"end\":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}());if(t)return Object(z.jsx)(\"h2\",{children:\"LOADING...\"});var i=a.savedBooks.map((function(e){return e.bookId}));return E(i),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(S.a,{fluid:!0,className:\"text-light bg-dark\",children:Object(z.jsx)(y.a,{children:Object(z.jsx)(\"h1\",{children:\"Viewing saved books!\"})})}),Object(z.jsxs)(y.a,{children:[Object(z.jsx)(\"h2\",{children:a.savedBooks.length?\"Viewing \".concat(a.savedBooks.length,\" saved \").concat(1===a.savedBooks.length?\"book\":\"books\",\":\"):\"You have no saved books!\"}),Object(z.jsx)(F.a,{children:a.savedBooks.map((function(e){return Object(z.jsxs)(T.a,{border:\"dark\",children:[e.image?Object(z.jsx)(T.a.Img,{src:e.image,alt:\"The cover for \".concat(e.title),variant:\"top\"}):null,Object(z.jsxs)(T.a.Body,{children:[Object(z.jsx)(T.a.Title,{children:e.title}),Object(z.jsxs)(\"p\",{className:\"small\",children:[\"Authors: \",e.authors]}),Object(z.jsx)(T.a.Text,{children:e.description}),Object(z.jsx)(B.a,{className:\"btn-block btn-danger\",onClick:function(){return s(e.bookId)},children:\"Delete this Book!\"})]})]},e.bookId)}))})]})]})},W=n(146),Q=n(145),X=n(140),Z=n(147),ee=n(19),te=n(137),ne=function(){var e=Object(i.useState)({username:\"\",email:\"\",password:\"\"}),t=Object(w.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(w.a)(r,1)[0],c=Object(i.useState)(!1),s=Object(w.a)(c,2),l=s[0],d=s[1],u=Object(D.a)(Y),b=Object(w.a)(u,2),h=b[0],O=(b[1].error,function(e){var t=e.target,r=t.name,o=t.value;a(Object(j.a)(Object(j.a)({},n),{},Object(ee.a)({},r,o)))}),m=function(){var e=Object(f.a)(Object(k.a)().mark((function e(t){var r,o;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,e.next=6,h({variables:Object(j.a)({},n)});case 6:r=e.sent,o=r.data,q.login(o.addUser.token),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),d(!0);case 15:a({username:\"\",email:\"\",password:\"\"});case 16:case\"end\":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(I.a,{noValidate:!0,validated:o,onSubmit:m,children:[Object(z.jsx)(te.a,{dismissible:!0,onClose:function(){return d(!1)},show:l,variant:\"danger\",children:\"Something went wrong with your signup!\"}),Object(z.jsxs)(I.a.Group,{children:[Object(z.jsx)(I.a.Label,{htmlFor:\"username\",children:\"Username\"}),Object(z.jsx)(I.a.Control,{type:\"text\",placeholder:\"Your username\",name:\"username\",onChange:O,value:n.username,required:!0}),Object(z.jsx)(I.a.Control.Feedback,{type:\"invalid\",children:\"Username is required!\"})]}),Object(z.jsxs)(I.a.Group,{children:[Object(z.jsx)(I.a.Label,{htmlFor:\"email\",children:\"Email\"}),Object(z.jsx)(I.a.Control,{type:\"email\",placeholder:\"Your email address\",name:\"email\",onChange:O,value:n.email,required:!0}),Object(z.jsx)(I.a.Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),Object(z.jsxs)(I.a.Group,{children:[Object(z.jsx)(I.a.Label,{htmlFor:\"password\",children:\"Password\"}),Object(z.jsx)(I.a.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:O,value:n.password,required:!0}),Object(z.jsx)(I.a.Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),Object(z.jsx)(B.a,{disabled:!(n.username&&n.email&&n.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})})},ae=function(){var e=Object(i.useState)({email:\"\",password:\"\"}),t=Object(w.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(w.a)(r,1)[0],c=Object(i.useState)(!1),s=Object(w.a)(c,2),l=s[0],d=s[1],u=Object(D.a)(V),b=Object(w.a)(u,2),h=b[0],O=(b[1].error,function(e){var t=e.target,r=t.name,o=t.value;a(Object(j.a)(Object(j.a)({},n),{},Object(ee.a)({},r,o)))}),m=function(){var e=Object(f.a)(Object(k.a)().mark((function e(t){var r,o;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,e.next=6,h({variables:Object(j.a)({},n)});case 6:r=e.sent,o=r.data,q.login(o.login.token),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),d(!0);case 15:a({username:\"\",email:\"\",password:\"\"});case 16:case\"end\":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(I.a,{noValidate:!0,validated:o,onSubmit:m,children:[Object(z.jsx)(te.a,{dismissible:!0,onClose:function(){return d(!1)},show:l,variant:\"danger\",children:\"Something went wrong with your login credentials!\"}),Object(z.jsxs)(I.a.Group,{children:[Object(z.jsx)(I.a.Label,{htmlFor:\"email\",children:\"Email\"}),Object(z.jsx)(I.a.Control,{type:\"text\",placeholder:\"Your email\",name:\"email\",onChange:O,value:n.email,required:!0}),Object(z.jsx)(I.a.Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),Object(z.jsxs)(I.a.Group,{children:[Object(z.jsx)(I.a.Label,{htmlFor:\"password\",children:\"Password\"}),Object(z.jsx)(I.a.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:O,value:n.password,required:!0}),Object(z.jsx)(I.a.Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),Object(z.jsx)(B.a,{disabled:!(n.email&&n.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})})},re=function(){var e=Object(i.useState)(!1),t=Object(w.a)(e,2),n=t[0],a=t[1];return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(W.a,{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:Object(z.jsxs)(y.a,{fluid:!0,children:[Object(z.jsx)(W.a.Brand,{as:b.b,to:\"/\",children:\"Google Books Search\"}),Object(z.jsx)(W.a.Toggle,{\"aria-controls\":\"navbar\"}),Object(z.jsx)(W.a.Collapse,{id:\"navbar\",children:Object(z.jsxs)(Q.a,{className:\"ml-auto\",children:[Object(z.jsx)(Q.a.Link,{as:b.b,to:\"/\",children:\"Search For Books\"}),q.loggedIn()?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Q.a.Link,{as:b.b,to:\"/saved\",children:\"See Your Books\"}),Object(z.jsx)(Q.a.Link,{onClick:q.logout,children:\"Logout\"})]}):Object(z.jsx)(Q.a.Link,{onClick:function(){return a(!0)},children:\"Login/Sign Up\"})]})})]})}),Object(z.jsx)(X.a,{size:\"lg\",show:n,onHide:function(){return a(!1)},\"aria-labelledby\":\"signup-modal\",children:Object(z.jsxs)(Z.a.Container,{defaultActiveKey:\"login\",children:[Object(z.jsx)(X.a.Header,{closeButton:!0,children:Object(z.jsx)(X.a.Title,{id:\"signup-modal\",children:Object(z.jsxs)(Q.a,{variant:\"pills\",children:[Object(z.jsx)(Q.a.Item,{children:Object(z.jsx)(Q.a.Link,{eventKey:\"login\",children:\"Login\"})}),Object(z.jsx)(Q.a.Item,{children:Object(z.jsx)(Q.a.Link,{eventKey:\"signup\",children:\"Sign Up\"})})]})})}),Object(z.jsx)(X.a.Body,{children:Object(z.jsxs)(Z.a.Content,{children:[Object(z.jsx)(Z.a.Pane,{eventKey:\"login\",children:Object(z.jsx)(ae,{handleModalClose:function(){return a(!1)}})}),Object(z.jsx)(Z.a.Pane,{eventKey:\"signup\",children:Object(z.jsx)(ne,{handleModalClose:function(){return a(!1)}})})]})})]})})]})},oe=Object(O.a)({uri:\"/graphql\"}),ce=Object(x.a)((function(e,t){var n=t.headers,a=localStorage.getItem(\"id_token\");return{headers:Object(j.a)(Object(j.a)({},n),{},{authorization:a?\"Bearer \".concat(a):\"\"})}})),se=new m.a({link:ce.concat(oe),cache:new p.a});var ie=function(){return Object(z.jsx)(g.a,{client:se,children:Object(z.jsx)(b.a,{children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(re,{}),Object(z.jsxs)(h.c,{children:[Object(z.jsx)(h.a,{path:\"/\",element:Object(z.jsx)(A,{})}),Object(z.jsx)(h.a,{path:\"/saved\",element:Object(z.jsx)(R,{})}),Object(z.jsx)(h.a,{path:\"*\",element:Object(z.jsx)(\"h1\",{className:\"display-2\",children:\"Wrong page!\"})})]})]})})})};u.a.render(Object(z.jsx)(l.a.StrictMode,{children:Object(z.jsx)(ie,{})}),document.getElementById(\"root\"))}},[[123,1,2]]]);","name":"static/js/main.04d2d618.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","queries_templateObject","react","react_default","n","react_dom","react_dom_default","objectSpread2","dist","react_router_dist","createHttpLink","ApolloClient","inMemoryCache","ApolloProvider","context","toConsumableArray","regeneratorRuntime","asyncToGenerator","slicedToArray","Jumbotron","Container","Form","Col","Button","CardColumns","Card","classCallCheck","createClass","lib","lib_default","auth","AuthService","Object","key","value","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","saveBookIds","bookIdArr","length","JSON","stringify","removeBookId","bookId","savedBookIds","parse","updatedSavedBookIds","filter","savedBookId","useMutation","taggedTemplateLiteral","graphql_tag_lib","LOGIN_USER","ADD_USER","SAVE_BOOK","REMOVE_BOOK","jsx_runtime","pages_SearchBooks","_useState","_useState2","searchedBooks","setSearchedBooks","_useState3","_useState4","searchInput","setSearchInput","_useState5","_useState6","setSavedBookIds","_useMutation","_useMutation2","saveBook","error","handleFormSubmit","_ref","mark","_callee","event","response","_yield$response$json","items","bookData","wrap","_context","prev","next","preventDefault","abrupt","fetch","concat","sent","ok","Error","json","map","book","_book$volumeInfo$imag","id","authors","volumeInfo","title","description","image","imageLinks","thumbnail","t0","console","stop","_x","apply","arguments","handleSaveBook","_ref2","_callee2","bookToSave","_context2","find","loggedIn","variables","input","_x2","children","fluid","className","onSubmit","Row","xs","md","Control","name","onChange","e","target","type","size","placeholder","variant","border","Img","src","alt","Body","Title","Text","disabled","some","onClick","useQuery","GET_ME","pages_SavedBooks","_useQuery","loading","data","userData","me","removeBook","handleDeleteBook","savedBooks","Navbar","Nav","Modal","Tab","defineProperty","Alert","components_SignupForm","username","email","password","userFormData","setUserFormData","validated","showAlert","setShowAlert","addUser","handleInputChange","_event$target","_yield$addUser","currentTarget","checkValidity","stopPropagation","login","noValidate","dismissible","onClose","show","Group","Label","htmlFor","required","Feedback","components_LoginForm","_yield$login","components_Navbar","showModal","setShowModal","bg","expand","Brand","as","to","Toggle","Collapse","Link","logout","onHide","defaultActiveKey","Header","closeButton","Item","eventKey","Content","Pane","handleModalClose","httpLink","uri","authLink","_","headers","authorization","client","link","cache","src_App","path","element","a","render","StrictMode","document","getElementById"],"sources":["static/js/main.04d2d618.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(40);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(114);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(115);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(65);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/http/createHttpLink.js + 17 modules\nvar createHttpLink = __webpack_require__(106);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/core/ApolloClient.js + 13 modules\nvar ApolloClient = __webpack_require__(142);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js + 8 modules\nvar inMemoryCache = __webpack_require__(144);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/context/ApolloProvider.js\nvar ApolloProvider = __webpack_require__(139);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/context/index.js\nvar context = __webpack_require__(103);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Jumbotron.js\nvar Jumbotron = __webpack_require__(132);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Container.js\nvar Container = __webpack_require__(133);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 13 modules\nvar Form = __webpack_require__(141);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Col.js\nvar Col = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(134);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/CardColumns.js\nvar CardColumns = __webpack_require__(135);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Card.js + 1 modules\nvar Card = __webpack_require__(148);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/lib/index.js\nvar lib = __webpack_require__(91);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// CONCATENATED MODULE: ./src/utils/auth.js\n// use this to decode a token and get the user's information out of it\n// create a new class to instantiate for a user\nvar auth_AuthService=/*#__PURE__*/function(){function AuthService(){Object(classCallCheck[\"a\" /* default */])(this,AuthService);}Object(createClass[\"a\" /* default */])(AuthService,[{key:\"getProfile\",value:// get user data\nfunction getProfile(){return lib_default()(this.getToken());}// check if user's logged in\n},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();return!!token&&!this.isTokenExpired(token);// handwaiving here\n}// check if token is expired\n},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=lib_default()(token);if(decoded.exp<Date.now()/1000){return true;}else return false;}catch(err){return false;}}},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem('id_token');}},{key:\"login\",value:function login(idToken){// Saves user token to localStorage\nlocalStorage.setItem('id_token',idToken);window.location.assign('/');}},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem('id_token');// this will reload the page and reset the state of the application\nwindow.location.assign('/');}}]);return AuthService;}();/* harmony default export */ var auth = (new auth_AuthService());\n// CONCATENATED MODULE: ./src/utils/API.js\n// // route to get logged in user's info (needs the token)\n// export const getMe = (token) => {\n//   return fetch(\"/api/users/me\", {\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//       authorization: `Bearer ${token}`,\n//     },\n//   });\n// };\n// export const createUser = (userData) => {\n//   return fetch(\"/api/users\", {\n//     method: \"POST\",\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//     body: JSON.stringify(userData),\n//   });\n// };\n// export const loginUser = (userData) => {\n//   return fetch(\"/api/users/login\", {\n//     method: \"POST\",\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//     body: JSON.stringify(userData),\n//   });\n// };\n// // save book data for a logged in user\n// export const saveBook = (bookData, token) => {\n//   return fetch(\"/api/users\", {\n//     method: \"PUT\",\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//       authorization: `Bearer ${token}`,\n//     },\n//     body: JSON.stringify(bookData),\n//   });\n// };\n// // remove saved book data for a logged in user\n// export const deleteBook = (bookId, token) => {\n//   return fetch(`/api/users/books/${bookId}`, {\n//     method: \"DELETE\",\n//     headers: {\n//       authorization: `Bearer ${token}`,\n//     },\n//   });\n// };\n// make a search to google books api\n// https://www.googleapis.com/books/v1/volumes?q=harry+potter\nvar searchGoogleBooks=function searchGoogleBooks(query){return fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(query));};\n// CONCATENATED MODULE: ./src/utils/localStorage.js\nvar getSavedBookIds=function getSavedBookIds(){var savedBookIds=localStorage.getItem('saved_books')?JSON.parse(localStorage.getItem('saved_books')):[];return savedBookIds;};var saveBookIds=function saveBookIds(bookIdArr){if(bookIdArr.length){localStorage.setItem('saved_books',JSON.stringify(bookIdArr));}else{localStorage.removeItem('saved_books');}};var removeBookId=function removeBookId(bookId){var savedBookIds=localStorage.getItem('saved_books')?JSON.parse(localStorage.getItem('saved_books')):null;if(!savedBookIds){return false;}var updatedSavedBookIds=savedBookIds===null||savedBookIds===void 0?void 0:savedBookIds.filter(function(savedBookId){return savedBookId!==bookId;});localStorage.setItem('saved_books',JSON.stringify(updatedSavedBookIds));return true;};\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useMutation.js\nvar useMutation = __webpack_require__(131);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(56);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 10 modules\nvar graphql_tag_lib = __webpack_require__(143);\n\n// CONCATENATED MODULE: ./src/utils/mutations.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4;var LOGIN_USER=Object(graphql_tag_lib[\"a\" /* gql */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"])));var ADD_USER=Object(graphql_tag_lib[\"a\" /* gql */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addUser($username: String!, $email: String!, $password: String!) {\\n    addUser(username: $username, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n        email\\n      }\\n    }\\n  }\\n\"])));var SAVE_BOOK=Object(graphql_tag_lib[\"a\" /* gql */])(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation saveBook($input: SaveBookInput) {\\n    saveBook(input: $input) {\\n      username\\n      _id\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        title\\n        image\\n        link\\n        description\\n      }\\n    }\\n  }\\n\"])));var REMOVE_BOOK=Object(graphql_tag_lib[\"a\" /* gql */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation removeBook($bookId: String!) {\\n    removeBook(bookId: $bookId) {\\n      _id\\n      username\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        title\\n        image\\n        link\\n        description\\n      }\\n    }\\n  }\\n\"])));\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/pages/SearchBooks.js\nvar SearchBooks_SearchBooks=function SearchBooks(){// create state for holding returned google api data\nvar _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchedBooks=_useState2[0],setSearchedBooks=_useState2[1];// create state for holding our search field data\nvar _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),searchInput=_useState4[0],setSearchInput=_useState4[1];// create state to hold saved bookId values\nvar _useState5=Object(react[\"useState\"])(getSavedBookIds()),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),savedBookIds=_useState6[0],setSavedBookIds=_useState6[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(SAVE_BOOK),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),saveBook=_useMutation2[0],error=_useMutation2[1].error;// set up useEffect hook to save `savedBookIds` list to localStorage on component unmount\n// learn more here: https://reactjs.org/docs/hooks-effect.html#effects-with-cleanup\nObject(react[\"useEffect\"])(function(){return function(){return saveBookIds(savedBookIds);};});// create method to search for books and set state on form submit\nvar handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var response,_yield$response$json,items,bookData;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(searchInput){_context.next=3;break;}return _context.abrupt(\"return\",false);case 3:_context.prev=3;_context.next=6;return searchGoogleBooks(searchInput);case 6:response=_context.sent;if(response.ok){_context.next=9;break;}throw new Error(\"something went wrong!\");case 9:_context.next=11;return response.json();case 11:_yield$response$json=_context.sent;items=_yield$response$json.items;bookData=items.map(function(book){var _book$volumeInfo$imag;return{bookId:book.id,authors:book.volumeInfo.authors||[\"No author to display\"],title:book.volumeInfo.title,description:book.volumeInfo.description,image:((_book$volumeInfo$imag=book.volumeInfo.imageLinks)===null||_book$volumeInfo$imag===void 0?void 0:_book$volumeInfo$imag.thumbnail)||\"\"};});setSearchedBooks(bookData);setSearchInput(\"\");_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](3);console.error(_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,null,[[3,18]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();// create function to handle saving a book to our database\nvar handleSaveBook=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(bookId){var bookToSave,token,response;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// find the book in `searchedBooks` state by the matching id\nbookToSave=searchedBooks.find(function(book){return book.bookId===bookId;});// get token\ntoken=auth.loggedIn()?auth.getToken():null;if(token){_context2.next=4;break;}return _context2.abrupt(\"return\",false);case 4:_context2.prev=4;_context2.next=7;return saveBook({variables:{input:bookToSave}});case 7:response=_context2.sent;if(response){_context2.next=10;break;}throw new Error(\"something went wrong!\");case 10:// if book successfully saves to user's account, save book id to state\nsetSavedBookIds([].concat(Object(toConsumableArray[\"a\" /* default */])(savedBookIds),[bookToSave.bookId]));_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](4);console.error(_context2.t0);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[4,13]]);}));return function handleSaveBook(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Jumbotron[\"a\" /* default */],{fluid:true,className:\"text-light bg-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Search for Books!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{onSubmit:handleFormSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Row,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{xs:12,md:8,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{name:\"searchInput\",value:searchInput,onChange:function onChange(e){return setSearchInput(e.target.value);},type:\"text\",size:\"lg\",placeholder:\"Search for a book\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{xs:12,md:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",variant:\"success\",size:\"lg\",children:\"Submit Search\"})})]})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:searchedBooks.length?\"Viewing \".concat(searchedBooks.length,\" results:\"):\"Search for a book to begin\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardColumns[\"a\" /* default */],{children:searchedBooks.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{border:\"dark\",children:[book.image?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Img,{src:book.image,alt:\"The cover for \".concat(book.title),variant:\"top\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Title,{children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"small\",children:[\"Authors: \",book.authors]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Text,{children:book.description}),auth.loggedIn()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:savedBookIds===null||savedBookIds===void 0?void 0:savedBookIds.some(function(savedBookId){return savedBookId===book.bookId;}),className:\"btn-block btn-info\",onClick:function onClick(){return handleSaveBook(book.bookId);},children:savedBookIds!==null&&savedBookIds!==void 0&&savedBookIds.some(function(savedBookId){return savedBookId===book.bookId;})?\"This book has already been saved!\":\"Save this Book!\"})]})]},book.bookId);})})]})]});};/* harmony default export */ var pages_SearchBooks = (SearchBooks_SearchBooks);\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useQuery.js + 1 modules\nvar useQuery = __webpack_require__(150);\n\n// CONCATENATED MODULE: ./src/utils/queries.js\nvar queries_templateObject;var GET_ME=Object(graphql_tag_lib[\"a\" /* gql */])(queries_templateObject||(queries_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    me {\\n      _id\\n      username\\n      email\\n      bookCount\\n      savedBooks {\\n        title\\n        bookId\\n        authors\\n        description\\n        image\\n        link\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/pages/SavedBooks.js\nvar SavedBooks_SavedBooks=function SavedBooks(){var _useQuery=Object(useQuery[\"a\" /* useQuery */])(GET_ME),loading=_useQuery.loading,data=_useQuery.data;var userData=(data===null||data===void 0?void 0:data.me)||[];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(REMOVE_BOOK),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),removeBook=_useMutation2[0],error=_useMutation2[1].error;var handleDeleteBook=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(bookId){var token,response;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=auth.loggedIn()?auth.getToken():null;if(token){_context.next=3;break;}return _context.abrupt(\"return\",false);case 3:_context.prev=3;_context.next=6;return removeBook({variables:{bookId:bookId}});case 6:response=_context.sent;if(response){_context.next=9;break;}throw new Error(\"something went wrong!\");case 9:removeBookId(bookId);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](3);console.error(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[3,12]]);}));return function handleDeleteBook(_x){return _ref.apply(this,arguments);};}();// if data isn't here yet, say so\nif(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"LOADING...\"});}var savedBookIds=userData.savedBooks.map(function(book){return book.bookId;});saveBookIds(savedBookIds);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Jumbotron[\"a\" /* default */],{fluid:true,className:\"text-light bg-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Viewing saved books!\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:userData.savedBooks.length?\"Viewing \".concat(userData.savedBooks.length,\" saved \").concat(userData.savedBooks.length===1?\"book\":\"books\",\":\"):\"You have no saved books!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardColumns[\"a\" /* default */],{children:userData.savedBooks.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{border:\"dark\",children:[book.image?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Img,{src:book.image,alt:\"The cover for \".concat(book.title),variant:\"top\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Title,{children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"small\",children:[\"Authors: \",book.authors]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Text,{children:book.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"btn-block btn-danger\",onClick:function onClick(){return handleDeleteBook(book.bookId);},children:\"Delete this Book!\"})]})]},book.bookId);})})]})]});};/* harmony default export */ var pages_SavedBooks = (SavedBooks_SavedBooks);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Navbar.js + 4 modules\nvar Navbar = __webpack_require__(146);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Nav.js + 7 modules\nvar Nav = __webpack_require__(145);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Modal.js + 22 modules\nvar Modal = __webpack_require__(140);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Tab.js + 3 modules\nvar Tab = __webpack_require__(147);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Alert.js\nvar Alert = __webpack_require__(137);\n\n// CONCATENATED MODULE: ./src/components/SignupForm.js\nvar SignupForm_SignupForm=function SignupForm(){// set initial form state\nvar _useState=Object(react[\"useState\"])({username:\"\",email:\"\",password:\"\"}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userFormData=_useState2[0],setUserFormData=_useState2[1];// set state for form validation\nvar _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,1),validated=_useState4[0];// set state for alert\nvar _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),addUser=_useMutation2[0],error=_useMutation2[1].error;var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserFormData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userFormData),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var form,_yield$addUser,data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();// check if form has everything (as per react-bootstrap docs)\nform=event.currentTarget;if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}_context.prev=3;_context.next=6;return addUser({variables:Object(objectSpread2[\"a\" /* default */])({},userFormData)});case 6:_yield$addUser=_context.sent;data=_yield$addUser.data;auth.login(data.addUser.token);_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);console.error(_context.t0);setShowAlert(true);case 15:setUserFormData({username:\"\",email:\"\",password:\"\"});case 16:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{noValidate:true,validated:validated,onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{dismissible:true,onClose:function onClose(){return setShowAlert(false);},show:showAlert,variant:\"danger\",children:\"Something went wrong with your signup!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"Your username\",name:\"username\",onChange:handleInputChange,value:userFormData.username,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Username is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"email\",placeholder:\"Your email address\",name:\"email\",onChange:handleInputChange,value:userFormData.email,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:handleInputChange,value:userFormData.password,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:!(userFormData.username&&userFormData.email&&userFormData.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})});};/* harmony default export */ var components_SignupForm = (SignupForm_SignupForm);\n// CONCATENATED MODULE: ./src/components/LoginForm.js\n// see SignupForm.js for comments\nvar LoginForm_LoginForm=function LoginForm(){var _useState=Object(react[\"useState\"])({email:\"\",password:\"\"}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userFormData=_useState2[0],setUserFormData=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,1),validated=_useState4[0];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(LOGIN_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),login=_useMutation2[0],error=_useMutation2[1].error;var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserFormData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userFormData),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var form,_yield$login,data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();// check if form has everything (as per react-bootstrap docs)\nform=event.currentTarget;if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}_context.prev=3;_context.next=6;return login({variables:Object(objectSpread2[\"a\" /* default */])({},userFormData)});case 6:_yield$login=_context.sent;data=_yield$login.data;auth.login(data.login.token);_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);console.error(_context.t0);setShowAlert(true);case 15:setUserFormData({username:\"\",email:\"\",password:\"\"});case 16:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{noValidate:true,validated:validated,onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{dismissible:true,onClose:function onClose(){return setShowAlert(false);},show:showAlert,variant:\"danger\",children:\"Something went wrong with your login credentials!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"Your email\",name:\"email\",onChange:handleInputChange,value:userFormData.email,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:handleInputChange,value:userFormData.password,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:!(userFormData.email&&userFormData.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})});};/* harmony default export */ var components_LoginForm = (LoginForm_LoginForm);\n// CONCATENATED MODULE: ./src/components/Navbar.js\nvar Navbar_AppNavbar=function AppNavbar(){// set modal display state\nvar _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */],{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{fluid:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Brand,{as:dist[\"b\" /* Link */],to:\"/\",children:\"Google Books Search\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Toggle,{\"aria-controls\":\"navbar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Collapse,{id:\"navbar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{className:\"ml-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{as:dist[\"b\" /* Link */],to:\"/\",children:\"Search For Books\"}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{as:dist[\"b\" /* Link */],to:\"/saved\",children:\"See Your Books\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{onClick:auth.logout,children:\"Logout\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{onClick:function onClick(){return setShowModal(true);},children:\"Login/Sign Up\"})]})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{size:\"lg\",show:showModal,onHide:function onHide(){return setShowModal(false);},\"aria-labelledby\":\"signup-modal\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */].Container,{defaultActiveKey:\"login\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{closeButton:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Title,{id:\"signup-modal\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{variant:\"pills\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{eventKey:\"login\",children:\"Login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{eventKey:\"signup\",children:\"Sign Up\"})})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */].Pane,{eventKey:\"login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_LoginForm,{handleModalClose:function handleModalClose(){return setShowModal(false);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */].Pane,{eventKey:\"signup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SignupForm,{handleModalClose:function handleModalClose(){return setShowModal(false);}})})]})})]})})]});};/* harmony default export */ var components_Navbar = (Navbar_AppNavbar);\n// CONCATENATED MODULE: ./src/App.js\nvar httpLink=Object(createHttpLink[\"a\" /* createHttpLink */])({uri:\"/graphql\"});var authLink=Object(context[\"a\" /* setContext */])(function(_,_ref){var headers=_ref.headers;var token=localStorage.getItem(\"id_token\");return{headers:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},headers),{},{authorization:token?\"Bearer \".concat(token):\"\"})};});var client=new ApolloClient[\"a\" /* ApolloClient */]({link:authLink.concat(httpLink),cache:new inMemoryCache[\"a\" /* InMemoryCache */]()});function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ApolloProvider[\"a\" /* ApolloProvider */],{client:client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SearchBooks,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/saved\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SavedBooks,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"display-2\",children:\"Wrong page!\"})})]})]})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[123,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\emona\\Desktop\\Bootcamp\\Book-Search\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\emona\\Desktop\\Bootcamp\\Book-Search\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\emona\\Desktop\\Bootcamp\\Book-Search\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\emona\\Desktop\\Bootcamp\\Book-Search\\client\\src\\index.css","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/utils/auth.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/utils/API.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/utils/localStorage.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/utils/mutations.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/pages/SearchBooks.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/utils/queries.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/pages/SavedBooks.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/components/SignupForm.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/components/LoginForm.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/components/Navbar.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/App.js","C:/Users/emona/Desktop/Bootcamp/Book-Search/client/src/index.js"],"names":["AuthService","decode","getToken","token","isTokenExpired","decoded","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","searchGoogleBooks","query","fetch","getSavedBookIds","savedBookIds","JSON","parse","saveBookIds","bookIdArr","length","stringify","removeBookId","bookId","updatedSavedBookIds","filter","savedBookId","LOGIN_USER","gql","ADD_USER","SAVE_BOOK","REMOVE_BOOK","SearchBooks","useState","searchedBooks","setSearchedBooks","searchInput","setSearchInput","setSavedBookIds","useMutation","saveBook","error","useEffect","handleFormSubmit","event","preventDefault","response","ok","Error","json","items","bookData","map","book","id","authors","volumeInfo","title","description","image","imageLinks","thumbnail","console","handleSaveBook","bookToSave","find","Auth","loggedIn","variables","input","e","target","value","some","GET_ME","SavedBooks","useQuery","loading","data","userData","me","removeBook","handleDeleteBook","savedBooks","SignupForm","username","email","password","userFormData","setUserFormData","validated","showAlert","setShowAlert","addUser","handleInputChange","name","form","currentTarget","checkValidity","stopPropagation","login","LoginForm","AppNavbar","showModal","setShowModal","Link","logout","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// use this to decode a token and get the user's information out of it\r\nimport decode from 'jwt-decode';\r\n\r\n// create a new class to instantiate for a user\r\nclass AuthService {\r\n  // get user data\r\n  getProfile() {\r\n    return decode(this.getToken());\r\n  }\r\n\r\n  // check if user's logged in\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken();\r\n    return !!token && !this.isTokenExpired(token); // handwaiving here\r\n  }\r\n\r\n  // check if token is expired\r\n  isTokenExpired(token) {\r\n    try {\r\n      const decoded = decode(token);\r\n      if (decoded.exp < Date.now() / 1000) {\r\n        return true;\r\n      } else return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem('id_token');\r\n  }\r\n\r\n  login(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem('id_token', idToken);\r\n    window.location.assign('/');\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem('id_token');\r\n    // this will reload the page and reset the state of the application\r\n    window.location.assign('/');\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","// // route to get logged in user's info (needs the token)\r\n// export const getMe = (token) => {\r\n//   return fetch(\"/api/users/me\", {\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//       authorization: `Bearer ${token}`,\r\n//     },\r\n//   });\r\n// };\r\n\r\n// export const createUser = (userData) => {\r\n//   return fetch(\"/api/users\", {\r\n//     method: \"POST\",\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//     body: JSON.stringify(userData),\r\n//   });\r\n// };\r\n\r\n// export const loginUser = (userData) => {\r\n//   return fetch(\"/api/users/login\", {\r\n//     method: \"POST\",\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//     body: JSON.stringify(userData),\r\n//   });\r\n// };\r\n\r\n// // save book data for a logged in user\r\n// export const saveBook = (bookData, token) => {\r\n//   return fetch(\"/api/users\", {\r\n//     method: \"PUT\",\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//       authorization: `Bearer ${token}`,\r\n//     },\r\n//     body: JSON.stringify(bookData),\r\n//   });\r\n// };\r\n\r\n// // remove saved book data for a logged in user\r\n// export const deleteBook = (bookId, token) => {\r\n//   return fetch(`/api/users/books/${bookId}`, {\r\n//     method: \"DELETE\",\r\n//     headers: {\r\n//       authorization: `Bearer ${token}`,\r\n//     },\r\n//   });\r\n// };\r\n\r\n// make a search to google books api\r\n// https://www.googleapis.com/books/v1/volumes?q=harry+potter\r\nexport const searchGoogleBooks = (query) => {\r\n  return fetch(`https://www.googleapis.com/books/v1/volumes?q=${query}`);\r\n};\r\n","export const getSavedBookIds = () => {\r\n  const savedBookIds = localStorage.getItem('saved_books')\r\n    ? JSON.parse(localStorage.getItem('saved_books'))\r\n    : [];\r\n\r\n  return savedBookIds;\r\n};\r\n\r\nexport const saveBookIds = (bookIdArr) => {\r\n  if (bookIdArr.length) {\r\n    localStorage.setItem('saved_books', JSON.stringify(bookIdArr));\r\n  } else {\r\n    localStorage.removeItem('saved_books');\r\n  }\r\n};\r\n\r\nexport const removeBookId = (bookId) => {\r\n  const savedBookIds = localStorage.getItem('saved_books')\r\n    ? JSON.parse(localStorage.getItem('saved_books'))\r\n    : null;\r\n\r\n  if (!savedBookIds) {\r\n    return false;\r\n  }\r\n\r\n  const updatedSavedBookIds = savedBookIds?.filter((savedBookId) => savedBookId !== bookId);\r\n  localStorage.setItem('saved_books', JSON.stringify(updatedSavedBookIds));\r\n\r\n  return true;\r\n};\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOGIN_USER = gql`\r\n  mutation login($email: String!, $password: String!) {\r\n    login(email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n  mutation addUser($username: String!, $email: String!, $password: String!) {\r\n    addUser(username: $username, email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n        username\r\n        email\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SAVE_BOOK = gql`\r\n  mutation saveBook($input: SaveBookInput) {\r\n    saveBook(input: $input) {\r\n      username\r\n      _id\r\n      bookCount\r\n      savedBooks {\r\n        bookId\r\n        authors\r\n        title\r\n        image\r\n        link\r\n        description\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const REMOVE_BOOK = gql`\r\n  mutation removeBook($bookId: String!) {\r\n    removeBook(bookId: $bookId) {\r\n      _id\r\n      username\r\n      bookCount\r\n      savedBooks {\r\n        bookId\r\n        authors\r\n        title\r\n        image\r\n        link\r\n        description\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Jumbotron,\r\n  Container,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  Card,\r\n  CardColumns,\r\n} from \"react-bootstrap\";\r\n\r\nimport Auth from \"../utils/auth\";\r\nimport { searchGoogleBooks } from \"../utils/API\";\r\nimport { saveBookIds, getSavedBookIds } from \"../utils/localStorage\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { SAVE_BOOK } from \"../utils/mutations\";\r\n\r\nconst SearchBooks = () => {\r\n  // create state for holding returned google api data\r\n  const [searchedBooks, setSearchedBooks] = useState([]);\r\n  // create state for holding our search field data\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n\r\n  // create state to hold saved bookId values\r\n  const [savedBookIds, setSavedBookIds] = useState(getSavedBookIds());\r\n\r\n  const [saveBook, { error }] = useMutation(SAVE_BOOK);\r\n\r\n  // set up useEffect hook to save `savedBookIds` list to localStorage on component unmount\r\n  // learn more here: https://reactjs.org/docs/hooks-effect.html#effects-with-cleanup\r\n  useEffect(() => {\r\n    return () => saveBookIds(savedBookIds);\r\n  });\r\n\r\n  // create method to search for books and set state on form submit\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!searchInput) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const response = await searchGoogleBooks(searchInput);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"something went wrong!\");\r\n      }\r\n\r\n      const { items } = await response.json();\r\n\r\n      const bookData = items.map((book) => ({\r\n        bookId: book.id,\r\n        authors: book.volumeInfo.authors || [\"No author to display\"],\r\n        title: book.volumeInfo.title,\r\n        description: book.volumeInfo.description,\r\n        image: book.volumeInfo.imageLinks?.thumbnail || \"\",\r\n      }));\r\n\r\n      setSearchedBooks(bookData);\r\n      setSearchInput(\"\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // create function to handle saving a book to our database\r\n  const handleSaveBook = async (bookId) => {\r\n    // find the book in `searchedBooks` state by the matching id\r\n    const bookToSave = searchedBooks.find((book) => book.bookId === bookId);\r\n\r\n    // get token\r\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\r\n\r\n    if (!token) {\r\n      return false;\r\n    }\r\n    try {\r\n      const response = await saveBook({\r\n        variables: {\r\n          input: bookToSave,\r\n        },\r\n      });\r\n\r\n      if (!response) {\r\n        throw new Error(\"something went wrong!\");\r\n      }\r\n      // if book successfully saves to user's account, save book id to state\r\n      setSavedBookIds([...savedBookIds, bookToSave.bookId]);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Jumbotron fluid className=\"text-light bg-dark\">\r\n        <Container>\r\n          <h1>Search for Books!</h1>\r\n          <Form onSubmit={handleFormSubmit}>\r\n            <Form.Row>\r\n              <Col xs={12} md={8}>\r\n                <Form.Control\r\n                  name=\"searchInput\"\r\n                  value={searchInput}\r\n                  onChange={(e) => setSearchInput(e.target.value)}\r\n                  type=\"text\"\r\n                  size=\"lg\"\r\n                  placeholder=\"Search for a book\"\r\n                />\r\n              </Col>\r\n              <Col xs={12} md={4}>\r\n                <Button type=\"submit\" variant=\"success\" size=\"lg\">\r\n                  Submit Search\r\n                </Button>\r\n              </Col>\r\n            </Form.Row>\r\n          </Form>\r\n        </Container>\r\n      </Jumbotron>\r\n\r\n      <Container>\r\n        <h2>\r\n          {searchedBooks.length\r\n            ? `Viewing ${searchedBooks.length} results:`\r\n            : \"Search for a book to begin\"}\r\n        </h2>\r\n        <CardColumns>\r\n          {searchedBooks.map((book) => {\r\n            return (\r\n              <Card key={book.bookId} border=\"dark\">\r\n                {book.image ? (\r\n                  <Card.Img\r\n                    src={book.image}\r\n                    alt={`The cover for ${book.title}`}\r\n                    variant=\"top\"\r\n                  />\r\n                ) : null}\r\n                <Card.Body>\r\n                  <Card.Title>{book.title}</Card.Title>\r\n                  <p className=\"small\">Authors: {book.authors}</p>\r\n                  <Card.Text>{book.description}</Card.Text>\r\n                  {Auth.loggedIn() && (\r\n                    <Button\r\n                      disabled={savedBookIds?.some(\r\n                        (savedBookId) => savedBookId === book.bookId\r\n                      )}\r\n                      className=\"btn-block btn-info\"\r\n                      onClick={() => handleSaveBook(book.bookId)}\r\n                    >\r\n                      {savedBookIds?.some(\r\n                        (savedBookId) => savedBookId === book.bookId\r\n                      )\r\n                        ? \"This book has already been saved!\"\r\n                        : \"Save this Book!\"}\r\n                    </Button>\r\n                  )}\r\n                </Card.Body>\r\n              </Card>\r\n            );\r\n          })}\r\n        </CardColumns>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchBooks;\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_ME = gql`\r\n  {\r\n    me {\r\n      _id\r\n      username\r\n      email\r\n      bookCount\r\n      savedBooks {\r\n        title\r\n        bookId\r\n        authors\r\n        description\r\n        image\r\n        link\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport {\r\n  Jumbotron,\r\n  Container,\r\n  CardColumns,\r\n  Card,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport { useQuery, useMutation } from \"@apollo/client\";\r\n\r\nimport { GET_ME } from \"../utils/queries\";\r\nimport Auth from \"../utils/auth\";\r\nimport { removeBookId, saveBookIds } from \"../utils/localStorage\";\r\nimport { REMOVE_BOOK } from \"../utils/mutations\";\r\n\r\nconst SavedBooks = () => {\r\n  const { loading, data } = useQuery(GET_ME);\r\n  const userData = data?.me || [];\r\n\r\n  const [removeBook, { error }] = useMutation(REMOVE_BOOK);\r\n\r\n  const handleDeleteBook = async (bookId) => {\r\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\r\n\r\n    if (!token) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const response = await removeBook({\r\n        variables: { bookId },\r\n      });\r\n\r\n      if (!response) {\r\n        throw new Error(\"something went wrong!\");\r\n      }\r\n\r\n      removeBookId(bookId);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // if data isn't here yet, say so\r\n  if (loading) {\r\n    return <h2>LOADING...</h2>;\r\n  }\r\n\r\n  const savedBookIds = userData.savedBooks.map((book) => book.bookId);\r\n  saveBookIds(savedBookIds);\r\n\r\n  return (\r\n    <>\r\n      <Jumbotron fluid className=\"text-light bg-dark\">\r\n        <Container>\r\n          <h1>Viewing saved books!</h1>\r\n        </Container>\r\n      </Jumbotron>\r\n      <Container>\r\n        <h2>\r\n          {userData.savedBooks.length\r\n            ? `Viewing ${userData.savedBooks.length} saved ${\r\n                userData.savedBooks.length === 1 ? \"book\" : \"books\"\r\n              }:`\r\n            : \"You have no saved books!\"}\r\n        </h2>\r\n        <CardColumns>\r\n          {userData.savedBooks.map((book) => {\r\n            return (\r\n              <Card key={book.bookId} border=\"dark\">\r\n                {book.image ? (\r\n                  <Card.Img\r\n                    src={book.image}\r\n                    alt={`The cover for ${book.title}`}\r\n                    variant=\"top\"\r\n                  />\r\n                ) : null}\r\n                <Card.Body>\r\n                  <Card.Title>{book.title}</Card.Title>\r\n                  <p className=\"small\">Authors: {book.authors}</p>\r\n                  <Card.Text>{book.description}</Card.Text>\r\n                  <Button\r\n                    className=\"btn-block btn-danger\"\r\n                    onClick={() => handleDeleteBook(book.bookId)}\r\n                  >\r\n                    Delete this Book!\r\n                  </Button>\r\n                </Card.Body>\r\n              </Card>\r\n            );\r\n          })}\r\n        </CardColumns>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SavedBooks;\r\n","import React, { useState } from \"react\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\n\r\nimport { ADD_USER } from \"../utils/mutations\";\r\nimport Auth from \"../utils/auth\";\r\n\r\nconst SignupForm = () => {\r\n  // set initial form state\r\n  const [userFormData, setUserFormData] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  // set state for form validation\r\n  const [validated] = useState(false);\r\n  // set state for alert\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  const [addUser, { error }] = useMutation(ADD_USER);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setUserFormData({ ...userFormData, [name]: value });\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // check if form has everything (as per react-bootstrap docs)\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n\r\n    try {\r\n      const { data } = await addUser({\r\n        variables: { ...userFormData },\r\n      });\r\n\r\n      Auth.login(data.addUser.token);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setShowAlert(true);\r\n    }\r\n\r\n    setUserFormData({\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* This is needed for the validation functionality above */}\r\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\r\n        {/* show alert if server response is bad */}\r\n        <Alert\r\n          dismissible\r\n          onClose={() => setShowAlert(false)}\r\n          show={showAlert}\r\n          variant=\"danger\"\r\n        >\r\n          Something went wrong with your signup!\r\n        </Alert>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"username\">Username</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Your username\"\r\n            name=\"username\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.username}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Username is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"email\">Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Your email address\"\r\n            name=\"email\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.email}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Email is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Your password\"\r\n            name=\"password\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.password}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Password is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Button\r\n          disabled={\r\n            !(\r\n              userFormData.username &&\r\n              userFormData.email &&\r\n              userFormData.password\r\n            )\r\n          }\r\n          type=\"submit\"\r\n          variant=\"success\"\r\n        >\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignupForm;\r\n","// see SignupForm.js for comments\r\nimport React, { useState } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { useMutation } from \"@apollo/client\";\r\n\r\nimport { LOGIN_USER } from \"../utils/mutations\";\r\nimport Auth from \"../utils/auth\";\r\n\r\nconst LoginForm = () => {\r\n  const [userFormData, setUserFormData] = useState({ email: \"\", password: \"\" });\r\n  const [validated] = useState(false);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  const [login, { error }] = useMutation(LOGIN_USER);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setUserFormData({ ...userFormData, [name]: value });\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // check if form has everything (as per react-bootstrap docs)\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n\r\n    try {\r\n      const { data } = await login({\r\n        variables: { ...userFormData },\r\n      });\r\n\r\n      Auth.login(data.login.token);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setShowAlert(true);\r\n    }\r\n\r\n    setUserFormData({\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\r\n        <Alert\r\n          dismissible\r\n          onClose={() => setShowAlert(false)}\r\n          show={showAlert}\r\n          variant=\"danger\"\r\n        >\r\n          Something went wrong with your login credentials!\r\n        </Alert>\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"email\">Email</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Your email\"\r\n            name=\"email\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.email}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Email is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Your password\"\r\n            name=\"password\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.password}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Password is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Button\r\n          disabled={!(userFormData.email && userFormData.password)}\r\n          type=\"submit\"\r\n          variant=\"success\"\r\n        >\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Navbar, Nav, Container, Modal, Tab } from 'react-bootstrap';\r\nimport SignUpForm from './SignupForm';\r\nimport LoginForm from './LoginForm';\r\n\r\nimport Auth from '../utils/auth';\r\n\r\nconst AppNavbar = () => {\r\n  // set modal display state\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <Navbar bg='dark' variant='dark' expand='lg'>\r\n        <Container fluid>\r\n          <Navbar.Brand as={Link} to='/'>\r\n            Google Books Search\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls='navbar' />\r\n          <Navbar.Collapse id='navbar'>\r\n            <Nav className='ml-auto'>\r\n              <Nav.Link as={Link} to='/'>\r\n                Search For Books\r\n              </Nav.Link>\r\n              {/* if user is logged in show saved books and logout */}\r\n              {Auth.loggedIn() ? (\r\n                <>\r\n                  <Nav.Link as={Link} to='/saved'>\r\n                    See Your Books\r\n                  </Nav.Link>\r\n                  <Nav.Link onClick={Auth.logout}>Logout</Nav.Link>\r\n                </>\r\n              ) : (\r\n                <Nav.Link onClick={() => setShowModal(true)}>Login/Sign Up</Nav.Link>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n      {/* set modal data up */}\r\n      <Modal\r\n        size='lg'\r\n        show={showModal}\r\n        onHide={() => setShowModal(false)}\r\n        aria-labelledby='signup-modal'>\r\n        {/* tab container to do either signup or login component */}\r\n        <Tab.Container defaultActiveKey='login'>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id='signup-modal'>\r\n              <Nav variant='pills'>\r\n                <Nav.Item>\r\n                  <Nav.Link eventKey='login'>Login</Nav.Link>\r\n                </Nav.Item>\r\n                <Nav.Item>\r\n                  <Nav.Link eventKey='signup'>Sign Up</Nav.Link>\r\n                </Nav.Item>\r\n              </Nav>\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Tab.Content>\r\n              <Tab.Pane eventKey='login'>\r\n                <LoginForm handleModalClose={() => setShowModal(false)} />\r\n              </Tab.Pane>\r\n              <Tab.Pane eventKey='signup'>\r\n                <SignUpForm handleModalClose={() => setShowModal(false)} />\r\n              </Tab.Pane>\r\n            </Tab.Content>\r\n          </Modal.Body>\r\n        </Tab.Container>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppNavbar;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n} from \"@apollo/client\";\r\nimport { setContext } from \"@apollo/client/link/context\";\r\nimport SearchBooks from \"./pages/SearchBooks\";\r\nimport SavedBooks from \"./pages/SavedBooks\";\r\nimport Navbar from \"./components/Navbar\";\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: \"/graphql\",\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = localStorage.getItem(\"id_token\");\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <>\r\n          <Navbar />\r\n          <Routes>\r\n            <Route path=\"/\" element={<SearchBooks />} />\r\n            <Route path=\"/saved\" element={<SavedBooks />} />\r\n            <Route\r\n              path=\"*\"\r\n              element={<h1 className=\"display-2\">Wrong page!</h1>}\r\n            />\r\n          </Routes>\r\n        </>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"]}}